<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.16.2">
    <title>ExVenture â€“ ex_venture v0.15.0</title>
    <link rel="stylesheet" href="dist/app-268c9dc719.css" />
    
    <script src="dist/sidebar_items-684dd0e0b3.js"></script>
  </head>
  <body data-type="extras">
    <script>try { if(localStorage.getItem('night-mode')) document.body.className += ' night-mode'; } catch (e) { }</script>

<div class="main">
<button class="sidebar-toggle">
  <span class="icon-menu" aria-hidden="true"></span>
  <span class="sr-only">Toggle Sidebar</span>
</button>
<section class="sidebar">

  
  <a href="readme.html" class="sidebar-projectLink">
    <div class="sidebar-projectDetails">
      <h1 class="sidebar-projectName">
        ex_venture
      </h1>
      <h2 class="sidebar-projectVersion">
        v0.15.0
      </h2>
    </div>
    
  </a>

  <div class="sidebar-search">
    <span class="icon-search" aria-hidden="true"></span>
    <input type="text" class="sidebar-searchInput" placeholder="search" aria-label="Search" autocomplete="off" />
  </div>

  <ul class="sidebar-listNav">
    <li><a id="extras-list" href="#full-list">Pages</a></li>

    
      <li><a id="modules-list" href="#full-list">Modules</a></li>
    

    

    

    
  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">


<h1>ExVenture</h1>
<p><a href="https://travis-ci.org/oestrich/ex_venture"><img src="https://travis-ci.org/oestrich/ex_venture.svg?branch=master" alt="Build Status"/></a></p>
<p>A MUD written in Elixir</p>
<h2 id="requirements" class="section-heading">
  <a href="#requirements" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Requirements
</h2>

<ul>
<li>PostgreSQL 9.6
</li>
<li>Elixir 1.6
</li>
<li>Erlang 20
</li>
<li>node.js 8.6
</li>
</ul>
<h2 id="setup" class="section-heading">
  <a href="#setup" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Setup
</h2>

<pre><code class="bash">mix deps.get
mix compile
cd assets &amp;&amp; npm install &amp;&amp; node node_modules/brunch/bin/brunch build &amp;&amp; cd ..
mix ecto.reset
mix run --no-halt</code></pre>
<p>This will start a server on port 5555 that you can connect with using the <code class="inline">local.tin</code> tintin++ config. Ecto reset will include a sample area, classes, skills, and a login. You can also load <a href="http://localhost:4000/">http://localhost:4000/</a> in your browser for the admin panel and web client.</p>
<h2 id="running-tests" class="section-heading">
  <a href="#running-tests" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Running Tests
</h2>

<pre><code class="bash">MIX_ENV=test mix ecto.create
MIX_ENV=test mix ecto.migrate</code></pre>
<h2 id="admin-panel" class="section-heading">
  <a href="#admin-panel" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Admin Panel
</h2>

<p>There is an admin panel located at <a href="http://locahost:4000/admin">http://locahost:4000/admin</a> that you can build out the game in. Create zones, rooms, npcs, items, etc. in the panel. They will become live instantly on creating or updating.</p>
<p><img src="https://oestrich.github.io/ex_venture/images/admin-dashboard.png" alt="Admin Dashboard"/></p>
<h2 id="deployment" class="section-heading">
  <a href="#deployment" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Deployment
</h2>

<p>Distillery is used to generate releases. Once a release is generated you can copy the tar file to the server and start it up.</p>
<pre><code class="bash">cd assets &amp;&amp; node node_modules/brunch/bin/brunch build &amp;&amp; cd ..
MIX_ENV=prod mix compile
MIX_ENV=prod mix phx.digest
MIX_ENV=prod mix release</code></pre>
<p>The <code class="inline">release.sh</code> script will also do the same.</p>
<h3 id="tls" class="section-heading">
  <a href="#tls" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  TLS
</h3>

<p>The game does not support TLS natively, but you can get nginx to serve as a termination point and forward locally to the app. Nginx needs to be built with two modules, <a href="http://nginx.org/en/docs/stream/ngx_stream_core_module.html">stream_core</a> and <a href="http://nginx.org/en/docs/stream/ngx_stream_ssl_module.html">stream_ssl</a>. You will also need to set the <code class="inline">ssl_port</code> option in networking. By default it will load from the <code class="inline">SSL_PORT</code> ENV variable.</p>
<pre><code class="nginx">stream {
  upstream exventure {
    server 127.0.0.1:5555;
  }

  server {
    listen 5443 ssl;

    # Copy in your main site&#39;s settings here
    ssl_certificate /path/to/file.pem
    ssl_certificate_key /path/to/file.key

    proxy_pass exventure;
  }
}</code></pre>
<h2 id="metrics" class="section-heading">
  <a href="#metrics" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Metrics
</h2>

<p>Prometheus metrics are set up and will be reported on <code class="inline">/metrics</code>. You may want to have nginx deny requests to this endpoint or whitelist it for IPs, etc.</p>
<h2 id="documentation" class="section-heading">
  <a href="#documentation" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Documentation
</h2>

<p>You can get elixir docs by running <code class="inline">mix docs</code> and open <code class="inline">doc/index.html</code>. The code base has a lot of doctests to help give examples of how to use the functions.</p>

      <footer class="footer">
        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" rel="help" target="_blank">ExDoc</a> (v0.16.2),
          </span>
          <span class="line">
            designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" title="@dignifiedquire">Friedel Ziegelmayer</a>.
            </span>
        </p>
        <button class="night-mode-toggle"><span class="sr-only">Switch theme</span></button>
      </footer>
    </div>
  </div>
</section>
</div>
  <script src="dist/app-4988ddd06b.js"></script>
  </body>
</html>

